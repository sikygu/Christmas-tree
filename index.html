<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3D åœ£è¯æ ‘ ğŸ„</title>
<style>
  body { margin:0; overflow:hidden; background: #001; }
  canvas { display:block; }
</style>
</head>
<body>

<script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js"></script>
<script>
  let scene = new THREE.Scene();
  let camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
  let renderer = new THREE.WebGLRenderer({antialias:true});
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);

  // æ ‘å¹²
  let trunkGeom = new THREE.CylinderGeometry(0.2, 0.2, 1, 16);
  let trunkMat = new THREE.MeshStandardMaterial({color:0x8B4513});
  let trunk = new THREE.Mesh(trunkGeom, trunkMat);
  trunk.position.y = 0.5;
  scene.add(trunk);

  // æ ‘æï¼ˆå¤šå±‚åœ†é”¥ï¼‰
  let branches = [];
  let branchMat = new THREE.MeshStandardMaterial({color:0x0B610B});
  for(let i=0;i<5;i++){
    let geom = new THREE.ConeGeometry(1-i*0.15, 1, 32);
    let mesh = new THREE.Mesh(geom, branchMat);
    mesh.position.y = 1 + i*0.6;
    scene.add(mesh);
    branches.push(mesh);
  }

  // å…‰æº
  let light = new THREE.PointLight(0xffffff,1,100);
  light.position.set(5,10,5);
  scene.add(light);

  let ambient = new THREE.AmbientLight(0x404040);
  scene.add(ambient);

  // é›ªç²’å­
  let particleCount = 200;
  let particles = new THREE.Geometry();
  for(let i=0;i<particleCount;i++){
    let p = new THREE.Vector3(
      (Math.random()-0.5)*10,
      Math.random()*5+2,
      (Math.random()-0.5)*10
    );
    particles.vertices.push(p);
  }
  let pMaterial = new THREE.PointsMaterial({color:0xffffff, size:0.05});
  let particleSystem = new THREE.Points(particles, pMaterial);
  scene.add(particleSystem);

  camera.position.z = 5;
  camera.position.y = 2;

  // åŠ¨ç”»
  function animate(){
    requestAnimationFrame(animate);

    // æ ‘è½»å¾®æ‘†åŠ¨
    branches.forEach((b,i)=>{
      b.rotation.y += 0.002*(i+1);
    });

    // é›ªä¸‹è½
    particles.vertices.forEach(p=>{
      p.y -= 0.02;
      if(p.y < 0) p.y = Math.random()*5+2;
    });
    particleSystem.geometry.verticesNeedUpdate = true;

    renderer.render(scene, camera);
  }
  animate();

  window.addEventListener('resize', ()=>{
    camera.aspect = window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });
</script>

</body>
</html>
